 

 

今日，入围 ETHGlobal Scaling 2023 黑客松的智能合约钱包 Opclave 吸引了大量开发者和用户的注意力。Opclave 团队正在构建一个智能合约钱包，该钱包利用账户抽象、Apple Secure Enclave 和 OP Stack 来改善钱包体验。

 

Opclave 的核心目标之一是将 Apple 设备、iPhone 和 Macbook 变成硬件钱包，更重要的是，钱包也可以通过 Apple 的 Face ID 和 Touch ID 在 OP Stack 兼容 Rollup 上发起交易。

 

Opclave 由伊斯坦布尔大学 İTÜ Blockchain 俱乐部团队开发，开发者之一为 0xDogan.eth，其也是 Connext Network 的贡献者之一。在介绍 Opclave 实现机制之前，我们先来了解下 Opclave 改善钱包体验过程中利用或借助的三个组件或者功能。

 

OP Stack 是由 Optimism 推出的模块化组件，支持组装构建自定义链「op-chains」以适应任何用例，此外通过共享排序和消息传递层，未来「op-chains」之间的界限将会消失，形成一个单一的逻辑链「Superchain」。

 

帐户抽象是一种使得当前 EOA 账户和智能合约账户变成一种包含复杂逻辑的通用性账户，使账户可以同时拥有合约账户和外部账户的功能，同时实现更多诸如发送批量交易、为钱包设置监护人、社交恢复等好处。

 

Apple Secure Enclave（安全隔离区）是整合在 Apple 芯片系统中实施的安全子系统，与主处理器隔离，为用户的重要数据创建隔离的安全区域，还具有一个公钥加速器，使开发人员能够在 Secure Enclave 上构建非对称加密操作。

 

![](https://img.foresightnews.pro/202303/3-1679910219902.jpg?x-oss-process=style/scale70)

 

Opclave 表示，由于主处理器和硬件的其他组件无法访问 Secure Enclave，因此在 Secure Enclave 上执行 ECC（椭圆曲线密码学）可以将设备变成硬件钱包。也就是说，Secure Enclave 是一个可以在钱包上实施和抽象化账户的安全解决方案，签名只能通过 Face ID 或 Touch ID 来访问，而非由 12 个助记词衍生的私钥来验证身份和发起交易。

 

那如何将 Apple 签名放置于到区块链上？Secure Enclave 只支持「secp256r1 曲线」，而以太坊支持「secp256k1 曲线」，因此 Opclave 采用自定义解决方案来将 Apple 签名实施到链上，并决定配置 OP Stack 并为 secp256r1 实现预编译验证器，预编译实现可以帮助证明用户帐户的所有权。

 

使用自定义预编译允许 Opclave 使用 Apple 签名抽象钱包所有权，并获得与预编译合约交互的 ERC-4337 兼容钱包。

 

同时，Opclave 也在通过账户抽象探索社交恢复、交易批处理、使用任何 ERC20 代币支付费用、每日支出限额、2FA、电子邮件登录等功能，还计划在未来支持其他链，例如 Starknet、zkSync 和 Fuel Network 等。

 

![](https://img.foresightnews.pro/202303/3-1679910235803.jpg?x-oss-process=style/scale70)

 

总体来说，Opclave 通过运行一个自定义 Rollup，其中包含在 Optimism Bedrock 版本标准中的「secp256r1 verifier」预编译合约，并构建可以应用 Face ID 或 Touch ID 验证交易的环境，让移动设备可以为区块链账户提供冷钱包级别的安全性。在通过 Face ID 或 Touch ID 安全步骤之后，可以在区块链和智能合约中验证这些签名。与此同时，Opclave 也利用账户抽象来改善钱包使用体验。

