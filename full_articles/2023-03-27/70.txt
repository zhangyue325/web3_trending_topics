四个月前，我曾发表「[MEV 保护的四个象限](https://bennyattar.substack.com/p/mev)」一文，讨论破解 MEV 困境的不同方法。然而，几个月以来，MEV 领域发生诸多变化。因此，我认为有必要重新审视该领域的诸多关键事件，分析 MEV 当前的一些问题与观点。

如果你不熟悉「最大可提取价值」（MEV），建议你阅读之前的报告。为了节省时间，本文假设读者熟练掌握 MEV 与 DeFi 知识。除非另有提及，本文假定所提及的数据与新闻均是关于以太坊网络的，这是 MEV 套利机器人活动的主要场所。

一、Flashbots：SUAVE
-----------------

早在 2022 年 10 月 15 日，Flashbots 在哥伦比亚波哥大的 Devcon 上宣布过去一年中一直在开发名为「SUAVE」的新方案，全称为「价值表达的单一统一拍卖」（the Single Unified Auction for Value Expression）。根据 Devcon 的演示幻灯片，该软件将是一个完全去中心化的区块构建器，将是开源和 EVM 兼容的，支持跨多个链。如今，SUAVE 已经宣布，我们有必要分析与了解它的工作方式，因为它很可能成为 MEV 保护领域的龙头。

尽管 Flashbots 在 [MEV-Boost](https://github.com/flashbots/mev-boost/) 与 [MEV-Protect](https://docs.flashbots.net/flashbots-protect/overview) 方面成就斐然，但在区块构建的中心化方面仍存在隐忧，主要是独家订单流（Exclusive Orderflow，EOF）与跨域 MEV（Cross-domain MEV）。因此，Flashbots 宣布了 SUAVE。Flashbots 在设计它的时候，有三个主要的价值考虑：

* 消解来自独家订单流的压力；
* 消解来自跨域 MEV 的压力——这意味着跨链的区块构建者必须以开放、无许可与免信任的方式相互集成；
* 1 与 2 的组合本身必须是去中心化的。
实际上，SUAVE 是一个适用于所有区块链、即插即用的 Mempool 和去中心化的区块构建器。

![](https://img.foresightnews.pro/202303/2173-1679908441297.png?x-oss-process=style/scale70)

SUAVE 区块链包括三个主要组成部分：偏好环境（Preference Environment）、执行市场（Execution Market）与去中心化区块构建（Decentralized Block Building）。SUAVE 是一个 EVM 兼容链，为上述组成部分提供以去中心化方式相互作用的基础设施。这三部分最大限度地减轻了上述的 MEV 问题：

* 偏好环境通过在每条链与订单流的形式上显示尽可能多的信息来解决跨域 MEV 困境，并最大限度地减少所有构建者的信息差。
* 执行市场通过允许执行者竞争以解决用户偏好的最佳执行来解决独家订单流问题。通过最大化的竞争，任何人都可以成为执行者（构建者、RPC 服务提供商、解决者），并将最多的 MEV 返还给用户。
* 最后，去中心化区块构建通过整合偏好环境与执行市场的输出，营造了构建者合作的精神气质。相对于只有一个构建者构建区块，该功能将从上一步获得的 Bundle 打包来构建区块。
![](https://img.foresightnews.pro/202303/2173-1679908492149.png?x-oss-process=style/scale70)

资料来源：Flashbots

要想更深入地了解 SUAVE，请阅读《[IOSG 详解 SUAVE：MEV 规模化增长的新十年](https://foresightnews.pro/article/detail/24673)》。总体来说，SUAVE 令人感到非常兴奋，因为它将在 MEV 领域创造新的范式。与之前的中心化模式相比，一个平衡竞争与 MEV 公平的新时代已经到来。

二、Flashbots 的其他发展
-----------------

除了 SUAVE，Flashbots 及其生态系统合作伙伴最近还宣布了其他各种致力于 MEV 保护的功能与产品。就在[最近](https://twitter.com/bertcmiller/status/1634931226393051136)，MEV-Boost 日支付创下历史新高，向 MEV-Boost 提议者支付了 7691 枚 ETH，几乎是之前历史新高的两倍。当天近 95% 的区块也是 MEV-Boosted 区块。此外，宣布基于 MEV-Boost 构建的 [MEV-Share](https://collective.flashbots.net/t/mev-share-programmably-private-orderflow-to-share-mev-with-users/1264) 应该帮助用户与应用程序接收他们的交易创造的 MEV，同时给搜索者与区块构建者带来额外的好处和利润。

Flashbots 在 MEV 保护方面总是走在前列，其关注重点对于了解行业的关键问题与方向至关重要，[它们是几乎所有类型的 MEV 保护项目的主要参与者](https://twitter.com/Elegy4TheArctic/status/1630108299717902338)。

三、共识层还发生了什么？
------------

除了 Flashbots 之外，共识层还发生了其他各种令人意想不到的发展。因此，本节旨在对最近的一些创新与讨论做一个快速的概述。

### （一）区块构建

首先，每个 MEV 爱好者最感兴趣的讨论是以太坊区块构建下一步要做什么。区块构建是指通过 MEV-Boost 从外部构建区块的方式，它将区块构建者与验证节点分开。虽然最初（就在合并之后）几乎完全由 Flashbots 主导，但区块构建已经逐渐开始去中心化了，现在 Flashbots 只占区块构建市场的 20% 左右。

剩下的问题是区块构建的发展前景如何？Frontier Research 最近的一份[报告](https://frontier.tech/beyond-extraction)提出了几个非常酷的想法，即区块构建者捆绑其他产品，甚至开始提供服务。通过捆绑其他产品，可以在 Gas 摩擦、交易执行、甚至运行时监控方面进行创新，以确保具有预期结果的交易被纳入区块。通过作为 abstractor 开始提供服务，即将会有与跨链未来、区块定制以及各种 MEV smoothing 方案的整合与内部产品。

### （二）内存池

还有一个讨论是我们如何看待内存池，以及如何提高其效率。内存池通常是所有 MEV 冲突的根源，对大多数区块链社区来说一直是个敏感而复杂的话题。虽然乍一看，加密内存池是 MEV smoothing 的一种潜在方法，但实际上还有许多其他问题需要解决。Jon Charonneau 在这篇[文章](https://joncharbonneau.substack.com/p/encrypted-mempools?utm_source=post-email-title&publication_id=1075279&post_id=108493811&isFreemail=true&utm_medium=email)中出色地解释了加密内存池。如果想看更简单的解释，可以阅读这一则[推文](https://twitter.com/0xidanlevin/status/1626247815767937026)。

现在关于内存池的一个热门话题是 [ERC-4337](https://frontier.tech/unpacking-erc-4337)。虽然主要是围绕[账户抽象](https://eips.ethereum.org/EIPS/eip-4337)，但 ERC-4337 主要特征是用户现在能够在备用的「用户操作」内存池上进行交互。关于使用 ERC-4337 的 MEV 供应链的后续步骤可以进一步阅读这篇[文章](https://hackmd.io/@dmarz/4337-mev-supply-chain)。

![](https://img.foresightnews.pro/202303/2173-1679908810113.png?x-oss-process=style/scale70)

### （三）Sei 划分不同外部性的 MEV

简单来说，一些区块链试图成为专业化与特定功能的区块链。其中之一是 Sei，这是一个专门用于交易的 Layer1 区块链。尽管此后才会讨论特定功能链，但 Sei 在处理 MEV 方面有一个相当不错的方法。正如我们多次讨论的那样，MEV 好坏参半。抢先交易（Frontrunning）和验证者水平的 MEV 对区块链显然是无益的，而套利与清算 MEV 可从另一个方面提出有意义的结果。Sei 意识到这一点，所以它们没有完全消除 MEV，而是采用两种不同的方法来处理这个问题。为了最大化发挥良好 MEV 的作用，Sei 正在使用「链下 Flashbots 式拍卖」。尽管这本身就很有趣，但 Sei 处理不良 MEV 的方式相当不错。Sei 使用的是一种频繁的批量拍卖形式，有一个先进的、完全原生的[订单匹配引擎](https://twitter.com/3vLabs/status/1630998137388113920)（OME），在区块打包后聚合每一个市场订单，然后以相同的统一结算价格执行所有订单。这意味着无论交易顺序如何，该区块中（大约 450 毫秒）的每个人都得到相同的价格。Sei 的做法是将不同形式的 MEV 划分开来，分别处理，希望其他区块链和应用也能尝试这种方式。

### （四）Skip Protocol

我最喜欢的防御型 MEV 之一是 [Skip Protocol](https://twitter.com/SkipProtocol)，它是 Cosmos 生态主权区块链的基础设施构建者。该项目有相当多的产品，包括 [Skip Select](https://docs.skip.money/)（一个允许搜索者捕获 MEV 的区块链拍卖系统）、Skip Secure（一个私人 RPC 端点，允许任何将其添加到钱包的人进行私人交易）。最近，Skip Protocol 推出了 [ProtoRev](https://osmosis.zone/blog/osmosis-protorev-by-skip-protocol-on-chain-app-directed-arbitrage)，这是一个在 Osmosis 上的链上模块，在执行时立即回跑交易，从而捕获该 MEV 并与用户分享。

然而，最近 Skip Protocol 宣布正在研究协议拥有的构建者（Protocol-Owned Builders，POB），这是其对以太坊的提议者 - 构建者分离（Proposer-Builder Separation，PBS）计划的反击。通过实施 POB，它将通过最小化私人订单流来防止构建者中心化，并将消除对链下构建者的完全依赖。所有的 MEV 再捕获将在协议内进行，并将允许区块链完全定制的内存池与偏好。

### （五）MEV 保护的两个应用

「[MEV 保护的四个象限](https://bennyattar.substack.com/p/mev)」一文讨论了 MEV 保护的两种形式：进攻型链上保护与防御型链上保护。此后，有两个应用引起我的注意。

第一个引起我注意的应用是 [Kolibrio](https://www.kolibr.io/)，这是第一个 BEV（Broadcaster Extractable Value，广播者可提取价值）中继。通过允许交易广播者（节点提供商、钱包、跨链桥，甚至未来的 Dapp 与协议）拥有他们自己创建的订单流，并从中获得收益。无需过多赘述，Kolibrio BEV 中继会在每笔交易出现在公共内存池之前检查其是否有潜在的 MEV 利润。如果有 MEV 利润，那么该交易将被延迟一个区块左右，同时该交易将作为 MEV bundle 被私下开采。

![](https://img.foresightnews.pro/202303/2173-1679908999015.png?x-oss-process=style/scale70)

[Kolibrio BEV Relay](https://docs.kolibr.io/)

我希望这种新型中继可以重新分配 MEV 利润，并进一步推进 MEV 民主化趋势。如果你想深入了解 Kolibrio BEV 中继，可以阅读这份[文档](https://docs.kolibr.io/)。

另一个的应用是 [PropellerHeads](https://www.propellerheads.xyz/)。虽然关于该项目 StabilityKeepers 工作方式的公开信息非常少，但其[部署](https://www.propellerheads.xyz/blog/the-first-mev-protection-on-zksync)在 zkSync 上无疑值得注意。此外，在区块链领域，或者坦率地说在任何另类资产领域，一直没有机会[投资](https://www.propellerheads.xyz/investors) MEV 机器人。我认为这很独特（不是财务建议），希望 PropellerHeads 很快可以公布更多关于 Keeper 工作方式的信息。

四、其他 MEV 事件
-----------

近期，Flashbots 社区中有一篇文章「[去中心化加密货币需要你：成为地理去中心化最大主义者](https://collective.flashbots.net/t/decentralized-crypto-needs-you-to-be-a-geographical-decentralization-maxi/1385)」认为，技术上的去中心化与地理上的去中心化都很重要，后者可以防止对一个地区或其监管产生偏见，并创建一个真正的全球系统。虽然这在 MEV 讨论中并不那么适用，但「[MEV on Ethereum：A Policy Analysis](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4332703)」论文提到了地理去中心化。Mikolaj Barczentewicz 认为，如果各州最终开始取缔或为 MEV 搜索者和验证者制定不友好的政策，他们将选择更宽松的司法管辖区，那么地理去中心化则会很难实现。无论如何，第一步要做的就是了解合法或非法 MEV 有哪些（因为有些甚至对用户是有益的）。

在 MEV 领域的另一个有趣的趋势是，与其他 MEV 类型相比，套利交易最多。EigenPhi 最近的一份报告指出，近一半（47.5%）的 MEV 交易是套利交易，同时也是最频繁（63.8%）出现的机会。当然，套利仍将是 MEV 的主要形式，这也是理所当然的，因为许多 DeFi 协议依靠它来运作。然而，套利确实造成了一些中心化问题，特别是在以太坊上。以太坊上前十名的套利机器人占 MEV 利润份额的 51.3%，而 BNB Chain 的环境更加友好，渗透率较低，因此前十名机器人只占 MEV 利润份额的 25%。随着 BNB Chain 继续推进并发展 DeFi 生态，MEV 竞争将会显著增长。

![](https://img.foresightnews.pro/202303/2173-1679909181963.png?x-oss-process=style/scale70)

EigenPhi: [MEV Outlook 2023](https://eigenphi.io/report/MEV-Outlook-2023)

最近有一些 MEV 攻击也值得关注，可以理解专业机器人的玩法，以及如何能最好地保护自己。在硅谷银行倒闭期间，USDC 轻微脱钩，在整个 DeFi 社区造成恐惧。当用户纷纷转向其他稳定币避险时，一位不幸的[用户](https://twitter.com/BowTiedPickle/status/1634415551450587138)在交换过程中遭遇巨大损失，他错将价值 200 万美元的 Curve LP 代币 3Crv 通过 KyberSwap 出售，仅获得 0.05 枚 USDT，这非常可怕。在这种情况下，幸运的 MEV 机器人支付了 45 美元的 Gas 费与 3.9 万美元的 MEV 贿赂，净利润为 204.5 万美元。

![](https://img.foresightnews.pro/202303/2173-1679909305633.png?x-oss-process=style/scale70)

从中可以得到几个教训。首先，该用户需要对交易提高警惕。很明显，该用户没有设置滑点，而且不知道可以直接将 3CRV 代币兑换成 USDT，滑点只有 6%。第二，Kyber Network 聚合器上有一个弃用的 Uniswap V2 池，这是一个明显的危险信号。第三，为什么没有更多的 MEV 机器人攻击它！有时，市场的效率（或在这种情况下的低效率）是令人惊叹的。

另一个很有意思的 MEV 攻击是一个 ARB 机器人对一个区块内的 [56 笔交易](https://eigenphi.io/mev/ethereum/tx/0xde4b5797555417762df9740dcb5f9f81041db3844211686839ee0f28913bdd89)进行三明治攻击！我不清楚这究竟是什么回事，但无论如何，了解并分析它是很重要的。最后，[这是现代史上最赚钱的 MEV 攻击](https://ethtx.info/mainnet/0xb55d4267a3565fdc8bada2638f97ed0bb31aa40bf8d4b304086dbdc1ca7d7844/)，在简单的 MEV 交易中看到它是很吸引人的。

五、结语
----

正如我们所看到的，MEV 领域几乎每周都有令人难以置信的创新，希望这篇文章能向大家展示一些正在发生的趋势、讨论与值得关注的新闻。我一直关注一些开放性问题，譬如，区块构建器的功能将如何进一步发展，内存池的演变，以及随着 DeFi、专业链及其衍生品的新变化，还会产生哪些不同的 MEV。最后，消除、平滑或民主化 MEV 的趋势一如既往地强劲，我预计它只会随着行业对其兴趣的增长而增长。

我的目标是让 DeFi 用户意识到这些外部因素，并确保社区知道一些正在形成的策略、工具与协议，防止套利机器人在未来造成可怕且更糟糕的结果。

